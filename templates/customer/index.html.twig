{% extends 'base.html.twig' %}

{% block title %} Customer index {% endblock %}

{% block body %}
    <h1> Customers index </h1>

    <table class="table table-bordered table-hover table-striped">
        <thead>
            <tr>
                <th> Id </th>
                <th> User </th>
                <th> StripeCustomerId </th>
                <th> TestClock </th>
                <th> actions </th>
            </tr>
        </thead>
        <tbody>
        {% for customer in customers %}
            <tr>
                <td> {{ customer.id }} </td>
                <th> {{ customer.user.email }} </th>
                <td> {{ customer.stripeCustomerId }} </td>
                <td> {{ customer.testClock ? customer.testClock.frozenTime|date('Y-m-d H:i:s') : 'none' }} </td>
                <td>
                    <a href="{{ path('app_customer_show', {'id': customer.id}) }}" class="btn btn-sm btn-primary"> Show </a>
                    {{ include('customer/_delete_form.html.twig') }}
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="5"> No customer yet </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('app_customer_new') }}" class="btn btn-sm btn-primary"> Create new </a>
{% endblock %}
